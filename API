<!DOCTYPE html>
<!-- 
https://www.khanacademy.org/computer-programming/peppermint-falls-chalet-gingerbread-house-contest-entry/5061077834006528/5691726094139392.png
https://www.khanacademy.org/computer-programming/isometric-3d-terrain-generator/4809439308152832/5643440998055936.png

-->
<html>
    <head>
        <meta charset="utf-8">
        <title>API for "Landscape Studios"</title>
        
        <!-- API Styles -->
        <style id="LandscapeAPIStyleSheet">
            /* Toolbar */
            .LandscapeAPIToolbar {
                background : rgba(48, 48, 48, 0.8);
                color : #ccc;
                text-shadow : -1px 0px black;
                width : 150px;
                padding : 10px;
                border-radius : 5px;
                text-align : center;
                font-family : monospace;
                box-sizing : border-box;
            }
            .LandscapeAPIToolbar * {
                width : 100%;
                margin-top : 0;
                margin-bottom : 10px;
                
            }
            
            .LandscapeAPIToolbar h1 {
                font-size : 20px;
            }
            .LandscapeAPIToolbar h2 {
                font-size : 15px;
            }
            .LandscapeAPIToolbar h3 {
                font-size : 13px;
            }
            .LandscapeAPIToolbar h2,h3,h4,h5,h6 {
                border-bottom : 2px groove grey;
            }
            
            .LandscapeAPIToolbar button {
                background : linear-gradient(355deg, rgb(255, 60, 0) 19%, rgb(255, 113, 61) 64%);
                background : -moz-linear-gradient(355deg, rgb(255, 60, 0) 19%, rgb(255, 113, 61) 64%);
                background : -webkit-linear-gradient(276deg, rgb(255, 60, 0) 19%, rgb(255, 113, 61) 64%);
                background : -o-linear-gradient(355deg, rgb(255, 60, 0) 19%, rgb(255, 113, 61) 64%);
                
                color : white;
                border : none;
                outline : none;
                border-radius : 3px;
                padding : 4px;
                font-size : 12px;
            }
            .LandscapeAPIToolbar button:hover {
                background : rgb(255, 116, 61);
            }
            .LandscapeAPIToolbar button:active {
                background : rgb(255, 60, 0);
            }
            .LandscapeAPIToolbar button:focus {
                box-shadow : 0px 0px 0.5px 1.5px #aa80ff;
            }
            
            .LandscapeAPIToolbar details {
                text-align : left;
                border-bottom : 2px groove gray;
                border-radius : 0;
                margin : 3px;
            }
            .LandscapeAPIToolbar summary {
                outline : none;
            }
            .LandscapeAPIToolbar .LandscapeAPIToolbar {
                background : transparent;
                width : 100%;
                padding : 0;
                margin-bottom : 0;
            }
        </style>
    </head>
    <body>
    
    </body>

<!-- Useful Functions -->
<script id="usefulFunctionsScript">

// Element styles
function styleElement (el, styles) {
    for (var i in styles) {
        el.style[i] = styles[i];
    }
};

// Defined/undefined control
function exists(val) {
    return val !== undefined && val !== null;
}
function Default(val, defVal) {
    if (!exists(val)) { val = defVal; }
    return val;
};

</script>

<!-- Toolbar -->
<script id="toolbarScript">

var toolbarID = 0;
function Toolbar (parent, config) {
    parent = parent || document.body;
    config = config || {};
    config.style = config.style || {};
    config.childrenStyle = config.childrenStyle || {};
    
    this.parent = parent;
    this.config = config;
    
    this.constructToolbarElement();
    this.constructToolbarStyles();
};
Toolbar.prototype = {
    /* Constructor */
    constructToolbarElement : function () {
        // Create the toolbar
        this.element = document.createElement("div");
        
        // Give the toolbar a unique ID class
        this.element.classList.add("LandscapeToolbarID_"+toolbarID);
        toolbarID ++;
        
        // Give the toolbar other classes and an id
        Default(this.element.id, this.config.id); // id
        this.element.classList.add("LandscapeAPIToolbar");
        this.config.classList = this.config.classList || [];
        for (var i = 0; i < this.config.classList.length; i ++) {
            this.element.classList.add(this.config.classList[i]);
        } // classes
        
        // Add the toolbar to the parent element
        this.parent.appendChild(this.element);
    },
    constructToolbarStyles : function () {
        styleElement(this.element, this.config.style);
    },
    
    /* Add Elements */
    addElement : function (elType, innerHTML, config) {
        config = config || {};
        var el;
        if (typeof elType === "string") {
            el = document.createElement(elType);
            el.innerHTML = innerHTML || "";
            
            styleElement(el, this.config.childrenStyle);
            if (exists(config.style)) {
                styleElement(el, config.style);
            }
            if (exists(config.classList)) {
                for (var i = 0; i < config.classList.length; i ++) {
                    el.classList.add(config.classList);
                }
            }
            if (exists(config.id)) { el.id = config.id; }
        }
        else { el = elType; }
        el.classList.add("LandscapeAPIComponent");
        this.element.appendChild(el);
        
        return el;
    },
    addButton : function (name, events, config) {
        events = events || [];
        var btn = this.addElement("button", name, config);
        for (var i = 0; i < events.length; i ++) {
            btn.addEventListener(events[i].event, events[i].callback);
        }
        return btn;
    },
    addLabel : function (text) {
        return this.addElement("h2", text);
    },
    addToolbar : function (name, config) {
        config = Object.assign(this.config, config);
        
        var section = this.addElement("details");
        section.setAttribute("open", "open");
        
        var label = document.createElement("summary");
        label.innerHTML = name;
        section.appendChild(label);
        
        var tlbr = new Toolbar (section, config);
        return tlbr;
    },
};

var tlbr = new Toolbar ();
var tb2 = tlbr.addToolbar ("Transforms");
tb2.addButton ("Translate");
tb2.addButton ("Rotate");
tb2.addButton ("Scale");

var tb3 = tlbr.addToolbar ("Edit");
tb3.addButton ("Duplicate");
tb3.addButton ("Duplicate Linked");
tb3.addButton ("Delete");
console.log(tb2);

</script>

</html>
